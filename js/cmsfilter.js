"use strict";(()=>{var e,t,i,l=Object.create,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,n=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(e,t,i)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,c=(e,t,i,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))o.call(e,n)||n===i||r(e,n,{get:()=>t[n],enumerable:!(l=s(t,n))||l.enumerable});return e},h=(e,t,i)=>(i=null!=e?l(n(e)):{},c(!t&&e&&e.__esModule?i:r(i,"default",{value:e,enumerable:!0}),e)),f=(e,t,i)=>(u(e,"symbol"!=typeof t?t+"":t,i),i),d=(e=(e,t)=>{t.exports=i;function i(e,t,i,l){var r,s,a;return function(){if(a=this,s=Array.prototype.slice.call(arguments),!r||!i&&!l){if(!i)return n(),r=setTimeout(function t(){n(),e.apply(a,s)},t);r=setTimeout(n,t),e.apply(a,s)}function n(){clearTimeout(r),r=null}}}},()=>(t||e((t={exports:{}}).exports,t),t.exports)),p="fs-attributes",g="animation",m="cmsattribute",y="cmscore",v="cmsfilter",b="queryparam",w="support",k=async(...e)=>{var t;let i=[];for(let l of e){let r=await (null==(t=window.fsAttributes[l])?void 0:t.loading);i.push(r)}return i},C=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,t){if(this.alertsActivated&&window.alert(e),"error"===t)throw Error(e)}};f(C,"alertsActivated",!1);var S=()=>{};function A(e,t,i,l){return e?(e.addEventListener(t,i,l),()=>e.removeEventListener(t,i,l)):S}var $=e=>e instanceof Element,x=e=>e instanceof HTMLInputElement,I=e=>e instanceof HTMLSelectElement,F=e=>e instanceof HTMLTextAreaElement,_=e=>x(e)||I(e)||F(e),E=(e,t)=>!!e&&t.includes(e),D=e=>null!=e,T=e=>"string"==typeof e,K=e=>void 0===e,L={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationWrapper:"w-pagination-wrapper",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",pageCount:"w-page-count",emptyState:"w-dyn-empty"},R={formBlock:"w-form",checkboxField:"w-checkbox",checkboxInput:"w-checkbox-input",radioField:"w-radio",radioInput:"w-radio-input",checkboxOrRadioLabel:"w-form-label",checkboxOrRadioFocus:"w--redirected-focus",checkboxOrRadioChecked:"w--redirected-checked",successMessage:"w-form-done",errorMessage:"w-form-fail"},P=(e,t)=>(Array.isArray(t)||(t=[t]),t.map(t=>e.dispatchEvent(new Event(t,{bubbles:!0}))).every(e=>e)),{radioInput:B,checkboxOrRadioFocus:q,checkboxOrRadioChecked:O}=R,j=(e,t=[])=>{let{type:i}=e;if(x(e)&&["checkbox","radio"].includes(i)){if(!e.checked||(e.checked=!1,P(e,["click","input","change"].filter(e=>!t.includes(e))),"checkbox"===i))return;let{parentElement:l}=e;if(!l)return;let r=l.querySelector(`.${B}`);if(!r)return;r.classList.remove(q,O);return}e.value="",P(e,["input","change"].filter(e=>!t.includes(e)))},M=(e,t=!0)=>e.cloneNode(t);function V(e,t,i,l=!0){let r=i?[i]:[];if(!e)return r;let s=e.split(",").reduce((e,t)=>{let i=t.trim();return(!l||i)&&e.push(i),e},[]);if(t){let a=s.filter(e=>E(e,t));return a.length?a:r}return s}var N=e=>Object.entries(e),Q=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),W=(e,t)=>e.every(e=>t.includes(e))&&t.every(t=>e.includes(t)),H=(e,t)=>{let{type:i}=e,l="radio"===i;if(l||"checkbox"===i){if(!x(e)||"boolean"!=typeof t||t===e.checked||l&&!1===t)return;e.checked=t}else{if(e.value===t)return;e.value=t.toString()}P(e,["click","input","change"])};function z(e,t,i){var l;let r=window.fsAttributes[e];return r.destroy=i||S,null==(l=r.resolve)||l.call(r,t),t}var G,J=(e,t="1",i="iife")=>`https://cdn.jsdelivr.net/npm/@finsweet/attributes-${e}@${t}/${e}${"esm"===i?".esm":""}.js`,U=J(g,"1","esm"),X=async()=>{let{fsAttributes:e}=window;e.animation||(e.animation={});let{animation:t}=e;if(t.import)return t.import;try{return t.import=import(U),t.import}catch(i){C.alert(`${i}`,"error");return}},Y=J(y,"1"),Z=async()=>{let{fsAttributes:e}=window;e.cmscore||(e.cmscore={});let{cmscore:t}=e;if(t.import)return t.import;try{return t.import=import(Y),t.import.then(e=>{e&&(t.version||(t.version=e.version))}),t.import}catch(i){C.alert(`${i}`,"error");return}},ee=`${p}-${w}`,et=async()=>{var e;let{fsAttributes:t,location:i}=window,{host:l,searchParams:r}=new URL(i.href);return!!(l.includes("webflow.io")&&r.has(ee))&&(null==(e=t.import)?void 0:e.call(t,w,"1"))},ei=e=>t=>`${e}${t?`-${t}`:""}`,el=e=>{let t=(t,i,l)=>{let{key:r,values:s}=e[t],a;if(!i)return`[${r}]`;let n=null==s?void 0:s[i];a=T(n)?n:n(l&&"instanceIndex"in l?l.instanceIndex:void 0);let o=l&&"caseInsensitive"in l&&l.caseInsensitive?"i":"";if(!(null!=l&&l.operator))return`[${r}="${a}"${o}]`;switch(l.operator){case"prefixed":return`[${r}^="${a}"${o}]`;case"suffixed":return`[${r}$="${a}"${o}]`;case"contains":return`[${r}*="${a}"${o}]`}};function i(e,i){let l=t("element",e,i),r=(null==i?void 0:i.scope)||document;return null!=i&&i.all?[...r.querySelectorAll(l)]:r.querySelector(l)}return[t,i,(t,i)=>{let l=e[i];return l?t.getAttribute(l.key):null}]},er={preventLoad:{key:`${p}-preventload`},debugMode:{key:`${p}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${p}-dev`}},[es,ea]=el(er),en=e=>{let{currentScript:t}=document,i={};if(!t)return{attributes:i,preventsLoad:!1};let l={preventsLoad:T(t.getAttribute(er.preventLoad.key)),attributes:i};for(let r in e){let s=t.getAttribute(e[r]);l.attributes[r]=s}return l},eo=({scriptAttributes:e,attributeKey:t,version:i,init:l})=>{var r;eu(),(r=window.fsAttributes)[t]||(r[t]={});let{preventsLoad:s,attributes:a}=en(e),n=window.fsAttributes[t];n.version=i,n.init=l,s||(window.Webflow||(window.Webflow=[]),window.Webflow.push(()=>l(a)))},eu=()=>{let e=eh();if(window.fsAttributes&&!Array.isArray(window.fsAttributes)){ef(window.fsAttributes,e);return}let t=ec(e);ef(t,e),ed(t),window.fsAttributes=t,window.FsAttributes=window.fsAttributes,et()},ec=e=>{let t={cms:{},push(...e){var t,i;for(let[l,r]of e)null==(i=null==(t=this[l])?void 0:t.loading)||i.then(r)},import:async(e,i)=>t[e]||new Promise(l=>{let r=document.createElement("script");r.src=J(e,i),r.async=!0,r.onload=()=>{let[i]=ef(t,[e]);l(i)},document.head.append(r)}),destroy(){var t,i;for(let l of e)null==(i=null==(t=window.fsAttributes[l])?void 0:t.destroy)||i.call(t)}};return t},eh=()=>{let e=es("src","finsweet",{operator:"contains"}),t=es("dev");return[...document.querySelectorAll(`script${e}, script${t}`)].reduce((e,t)=>{var i;let l=t.getAttribute(er.dev.key)||(null==(i=t.src.match(/[\w-. ]+(?=(\.js)$)/))?void 0:i[0]);return l&&!e.includes(l)&&e.push(l),e},[])},ef=(e,t)=>t.map(t=>{let i=e[t];return i||(e[t]={},(i=e[t]).loading=new Promise(e=>{i.resolve=t=>{e(t),delete i.resolve}}),i)}),ed=e=>{let t=Array.isArray(window.fsAttributes)?window.fsAttributes:[];e.push(...t)},ep="1.16.2",eg=`fs-${v}`,em="filters",ey="empty",ev="initial",eb="results-count",ew="filter-results-count",ek="items-count",e9="tag-template",eC="tag-text",eS="tag-remove",eA="scroll-anchor",e$="clear",ex="reset",eI="field",eF="clear",e_="reset",eE="match",eD={any:"any",all:"all"},eT="range",eK={from:"from",to:"to"},eL="type",eR={date:"date"},eP="showquery",eB={true:"true"},eq="allowsubmit",eO={true:"true"},ej="hideempty",eM={true:"true"},eV="highlight",eN={true:"true"},eQ="highlightclass",eW="active",e8="debounce",eH="tagformat",ez={category:"category"},e3="tagcategory",e0="easing",e4="duration",e7={element:{key:`${eg}-element`,values:{list:ei("list"),filters:ei(em),empty:ei(ey),initial:ei(ev),resultsCount:ei(eb),filterResultsCount:ei(ew),itemsCount:ei(ek),tagTemplate:ei(e9),tagText:ei(eC),tagRemove:ei(eS),scrollAnchor:ei(eA),reset:e$,resetFallback:ex}},field:{key:`${eg}-${eI}`},reset:{key:`${eg}-${eF}`},resetFallback:{key:`${eg}-${e_}`},match:{key:`${eg}-${eE}`,values:eD},range:{key:`${eg}-${eT}`,values:eK},type:{key:`${eg}-${eL}`,values:eR},showQuery:{key:`${eg}-${eP}`,values:eB},allowSubmit:{key:`${eg}-${eq}`,values:eO},hideEmpty:{key:`${eg}-${ej}`,values:eM},highlight:{key:`${eg}-${eV}`,values:eN},highlightCSS:{key:`${eg}-${eQ}`},activeCSS:{key:`${eg}-${eW}`},debouncing:{key:`${eg}-${e8}`},tagFormat:{key:`${eg}-${eH}`},tagCategory:{key:`${eg}-${e3}`},easing:{key:`${eg}-${e0}`},duration:{key:`${eg}-${e4}`}},[eG,eJ]=el(e7),eU=Object.values(eD),eX={range:Object.values(eK)},eY=Object.values(ez),eZ="fs-cmsfilter_highlight",e1="fs-cmsfilter_active",e2="50",e5=({filtersData:e})=>{for(let{elements:t}of e)for(let i of t){let{resultsCount:l,hidden:r,hideEmpty:s}=i;if(!s)continue;let a=0===l;a!==r&&(i.hidden=a,s.style.display=a?"none":"")}},e6=({props:e})=>{for(let t in e){let{elements:i,values:l,highlightData:r}=e[t];if(r)for(let s of l){let a=i.get(s);if(!a)continue;let{element:n,originalHTML:o}=a,u=r.get(s);if(!u){n.innerHTML=o;continue}let{filterValue:c,highlightCSSClass:h}=u,f=RegExp(c||s,"gi");n.innerHTML=o.replace(f,`<span class="${h}">$&</span>`)}}},te=({props:e})=>{for(let t in e)e[t].highlightData=new Map},tt=({resultsElement:e},{validItems:t})=>{e&&(e.textContent=`${t.length}`)},ti=({filtersData:e})=>{for(let{elements:t}of e)for(let{resultsElement:i,resultsCount:l}of t)i&&(i.textContent=`${l}`)},tl=({filtersData:e},{validItems:t})=>{var i,l;let r={};for(let{elements:s,filterKeys:a}of e){if(a.length>1)continue;let[n]=a;for(let o of(r[n]||(r[n]={}),s))o.resultsCount=0,(i=r[n])[l=o.value]||(i[l]=[]),r[n][o.value].push(o)}for(let{props:u}of t)for(let c in u){let h=r[c];if(!h)continue;let{values:f}=u[c];for(let d of f){let p=h[d];if(p)for(let g of p)g.resultsCount+=1}}},{field:{key:tr},range:{key:ts},type:{key:ta}}=e7,tn=(e,t)=>{let{highlightResults:i,showFilterResults:l,hideEmptyFilters:r}=e;t.on("shouldcollectprops",e=>{for(let t of e)t.collectProps({fieldKey:tr,rangeKey:ts,typeKey:ta})}),t.on("shouldfilter",async()=>await e.applyFilters(!0)),t.on("renderitems",s=>{if(tt(e,t),tl(e,t),r&&e5(e),l&&ti(e),i)for(let a of s)e6(a)}),t.once("nestinitialitems").then(async i=>{for(let l of i)l.collectProps({fieldKey:tr,rangeKey:ts,typeKey:ta});await e.applyFilters(!0),await t.renderItems(!0)})},to=h(d(),1),tu=({elements:e,values:t},i)=>{let l;for(let{element:r}of(i?(t.delete(i),l=e.filter(e=>e.value===i)):(t.clear(),l=e),l))j(r)},tc="fs-cms-element",th={wrapper:"wrapper",list:"list",item:"item",paginationWrapper:"pagination-wrapper",paginationNext:"pagination-next",paginationPrevious:"pagination-previous",pageCount:"page-count",emptyState:"empty"},tf=e=>{let t;return`:is(.${L[e]}, [${tc}="${th[e]}"])`},td=Intl.DateTimeFormat(),tp=e=>{if(e)return new Date(td.format(new Date(e)))},tg=e=>{if(e)return parseFloat(e.replace(/[^0-9.-]+/g,""))};function tm(e){return null==e?void 0:e.trim().toLowerCase()}var ty,tv,tb=(e,t)=>{e.closest(tf("item"))&&(e.id=`${e.id}-${t}`)},tw=(e,t,i)=>{var l,r;let{value:s}=e,{elements:a,values:n,mode:o}=t,{value:u,mode:c,type:h,activeCSSClass:f}=i;switch(h){case"checkbox":{let{checked:d}=e;if(!u)break;null==(l=e.parentElement)||l.classList[d?"add":"remove"](f),n[d?"add":"delete"](u);break}case"radio":{let{checked:p}=e;for(let{element:g,type:m}of a){if("radio"!==m)return!1;let y=g.checked;null==(r=g.parentElement)||r.classList[y?"add":"remove"](f)}if(!p||!u)break;n.clear(),n.add(u);break}default:if(i.value=s,e.classList[s?"add":"remove"](f),"range"===o){let v=[...n];v["from"===c?0:1]=s,v.some(e=>!!e)?t.values=new Set(v):n.clear();break}n.clear(),s&&n.add(s)}return!0},{field:{key:tk},reset:{key:t9},resetFallback:{key:tC},range:{key:tS},match:{key:tA},tagFormat:{key:t$},tagCategory:{key:tx},hideEmpty:{key:tI,values:tF},highlight:{key:t_,values:tE},highlightCSS:{key:tD},activeCSS:{key:tT},debouncing:{key:tK}}=e7,{checkboxField:tL,radioField:tR}=R,tP=(e,t,i,l,r)=>{let s=[];return e.querySelectorAll(eG("field")).forEach((e,a)=>{let n=e.getAttribute(tk);if(!n)return;let o=[...new Set(V(n))],u=o.map(e=>tm(e));if(!u.length)return;let c=tB(e,o,u,t,i,l,r);if(!c)return;let[h,f]=c,d=s.find(e=>W(u,e.filterKeys)),p=d||{...h,elements:[]};d||s.push(p);let g=e.closest(`.${tL}, .${tR}`);if(g){let m=x(e),y=m?"true":e.textContent||"",v=m?e:g.querySelector("input");tb(v,a);let b=eJ("filterResultsCount",{operator:"prefixed",scope:g}),w=e.getAttribute(tI)===tF.true?g:void 0,k={...f,value:y,resultsElement:b,hideEmpty:w,element:v,type:v.type};p.elements.push(k),tw(v,p,k);return}if(!_(e)||"submit"===e.type)return;let{type:C,value:S}=e;tb(e,a);let A={...f,element:e,type:C,value:S};p.elements.push(A),"select-one"===C&&tw(e,p,A)}),s},tB=(e,t,i,l,r,s,a)=>{let[n,o,u,c,h,f]=[tA,t$,tT,tK,t_,tD].map(t=>e.getAttribute(t)),d=E(n,eU)?n:void 0,p=E(o,eY)?o:void 0,g=e.getAttribute(tx),m=u||l,y=c?parseFloat(c):r,v=s||h===tE.true,b=f||a,w=e.getAttribute(tS),k,C;for(let[S,A]of N(eX))if(E(w,A)){k=S,C=w;break}return[{match:d,filterKeys:i,originalFilterKeys:t,highlight:v,tagFormat:p,tagCategory:g,highlightCSSClass:b,mode:k,values:new Set},{activeCSSClass:m,debouncing:y,resultsCount:0,mode:C,hidden:!1}]},tq=(e,t,i,l)=>(l&&te(e),!!i||t.every(t=>tO(e,t))),tO=(e,{filterKeys:t,values:i,match:l,mode:r,highlight:s,highlightCSSClass:a,elements:n})=>{let o=[...i];if(!o.length)return!0;let u=t.includes("*");u&&(t=Object.keys(e.props));let c=t.filter(i=>{let c=e.props[i];if(!c)return!1;let{values:h,highlightData:f,type:d,range:p}=c,g=[...h];if(!g.length)return!1;if("range"===r){let[m]=g,[y,v]=o,b=tj(m,y,v,d);return b&&s&&(null==f||f.set(m,{highlightCSSClass:a})),b}let w=o.filter(e=>{if("from"===p||"to"===p){let[i,l]=g,r=tj(e,i,l,d);return r&&s&&(null==f||f.set(i,{highlightCSSClass:a}),null==f||f.set(l,{highlightCSSClass:a})),r}return g.some(i=>{let l;if("date"!==d||u)l=n.some(({type:e})=>!["checkbox","radio","select-one"].includes(e))||t.length>1?i.toLowerCase().includes(e.toLowerCase()):e.toLowerCase()===i.toLowerCase();else{let[r,o]=[e,i].map(e=>{var t;return null==(t=tp(e))?void 0:t.getTime()});l=r===o}return l&&s&&(null==f||f.set(i,{highlightCSSClass:a,filterValue:e})),l})});return"all"===l?w.length===o.length:w.length>0});return"all"===l?c.length===t.length:c.length>0},tj=(e,t,i,l)=>{let[r,s,a]=[e,t,i].map(e=>"date"===l?tp(e):tg(e));return!!r&&(t||K(a)?i||K(s)?!(K(a)||K(s))&&r>=s&&r<=a:r>=s:r<=a)},{location:tM,history:tV}=window,tN=e=>{let t=!1,{filtersData:i}=e,{searchParams:l}=new URL(tM.href);for(let r of l){let s=tm(r[0]),a=r[1],n=i.find(({filterKeys:e})=>1===e.length&&e.includes(s));if(!n)continue;let o=V(a,void 0,void 0,!1);if(!o.length)continue;t=!0;let{elements:u,mode:c}=n;if("range"===c){let[h,f]=o,d=u.filter(({mode:e})=>"from"===e),p=u.filter(({mode:e})=>"to"===e);if(h&&d.length)for(let g of d){let{element:m,type:y}=g;"checkbox"===y||"radio"===y?H(m,!0):H(m,h),tw(m,n,g)}if(f&&p)for(let v of p){let{element:b,type:w}=v;"checkbox"===w||"radio"===w?H(b,!0):H(b,f),tw(b,n,v)}continue}for(let k of o)for(let C of u){let{element:S,value:A,type:$}=C;if(A===k&&("checkbox"===$||"radio"===$))H(S,!0);else{if(A||"checkbox"===$||"radio"===$)continue;H(S,k)}tw(S,n,C)}}return t},tQ=e=>{let t=new URL(tM.href),{searchParams:i}=t;for(let{filterKeys:[l],values:r}of e){if(!r.size){i.delete(l);continue}let s=[...r].join(",");i.set(l,s)}tV.replaceState(null,"",t.toString())},{field:{key:tW},range:{key:t8},type:{key:tH}}=e7,tz=class{constructor(e,t,{resultsElement:i,showQueryParams:l,allowSubmit:r,highlightAll:s,highlightCSSClass:a,activeCSSClass:n,debouncing:o}){this.formBlock=e,this.listInstance=t,this.restartingFilters=!1;let{form:u,submitButton:c,resetButtonsData:h}=(e=>{let t=e.querySelector("form"),i=e.querySelector('input[type="submit"]'),l=[...eJ("reset",{scope:e,operator:"prefixed",all:!0}),...eJ("resetFallback",{scope:e,operator:"prefixed",all:!0})],r=new Map;for(let s of l){let a=s.getAttribute(t9)||s.getAttribute(tC),n=a?[...new Set(V(a))].map(e=>tm(e)):[];r.set(s,n)}return{form:t,submitButton:i,resetButtonsData:r}})(e);this.form=u,this.submitButton=c,this.resetButtonsData=h,this.resultsElement=i,this.showQueryParams=l,this.allowSubmit=r,this.activeCSSClass=n,this.debouncing=o,this.highlightAll=s,this.highlightCSSClass=a,this.submitButtonVisible=!!c&&Q(c);let f=this.init();this.destroy=async()=>{(await f)()}}async init(){let{listInstance:e,hideEmptyFilters:t,showFilterResults:i}=this;for(let l of(this.storeFiltersData(),e.items))l.collectProps({fieldKey:tW,rangeKey:t8,typeKey:tH});return tt(this,e),tl(this,e),t&&e5(this),i&&ti(this),tN(this),await X(),this.applyFilters(),this.listenEvents()}async listenEvents(){let{form:e,resetButtonsData:t,submitButton:i}=this,l=A(e,"submit",e=>this.handleSubmit(e)),r=A(e,"input",e=>this.handleInputEvents(e)),s=[];for(let[a,n]of t){let o=A(a,"click",()=>this.resetFilters(n));s.push(o);let u=a.closest(`.${R.radioField}`);if(!u)continue;let c=u.querySelector("input");if(!c)continue;let h=A(c,"input",()=>{c.checked&&this.resetFilters(n)});s.push(h)}let f;return i&&(f=A(window,"resize",(0,to.default)(()=>{this.submitButtonVisible=Q(i)},50))),()=>{for(let e of(l(),r(),null==f||f(),s))e()}}async handleInputEvents({target:e}){let{submitButtonVisible:t,filtersData:i,restartingFilters:l}=this;if(!_(e))return;let r,s=i.find(({elements:t})=>r=t.find(t=>t.element===e));if(!s||!r||!tw(e,s,r)||l||t)return;let{debouncing:a}=r;this.debouncedApplyFilters||(this.debouncedApplyFilters=(0,to.default)(this.applyFilters,a)),await this.debouncedApplyFilters()}async handleSubmit(e){this.allowSubmit||(e.preventDefault(),e.stopImmediatePropagation()),await this.applyFilters()}async toggleFiltersState(e){let{listInstance:t,filtersActive:i}=this,l=!e;if(this.listInstance.validItems.length!=this.listInstance.items.length){for(var r=jQuery("section.section.projects-page.location-page .product_cms-w1.w-dyn-list .hotels-list .hotels-item"),s=0;s<this.listInstance.validItems.length;s++)r.eq(s).addClass("filterItemVisiable");jQuery("label.read-more-trigger").hide()}i!==l&&(this.filtersActive=l,t.initialElement&&(await t.displayElement(l?"initialElement":"wrapper",!1,!1),await t.displayElement(l?"wrapper":"initialElement",!0,void 0!==i)))}async applyFilters(e,t=!0){this.debouncedApplyFilters=void 0;let{listInstance:i,filtersData:l,filtersActive:r,highlightResults:s,tagsInstance:a,showQueryParams:n}=this,{items:o,initialElement:u}=i,c=l.every(({values:e})=>!e.size);if(c&&!r){await this.toggleFiltersState(c);return}for(let h of o)h.valid=tq(h,l,c,s);e||(await i.switchPage(1,!1),i.scrollToAnchor(),n&&tQ(l),await Promise.all([(async()=>{c?(await this.toggleFiltersState(c),await i.renderItems(!1,!u)):(await i.renderItems(!1,!u),await this.toggleFiltersState(c))})(),(async()=>{t&&await (null==a?void 0:a.syncTags())})()]))}async resetFilters(e,t){this.restartingFilters=!0;let{filtersData:i}=this;if(e&&e.length){let l=i.find(t=>W(t.filterKeys,e));if(!l)return;tu(l,t)}else for(let r of i)tu(r);await this.applyFilters(!1,!t),this.restartingFilters=!1}async addTagsInstance(e){this.tagsInstance=e,await e.syncTags()}storeFiltersData(){let{form:e,activeCSSClass:t,debouncing:i,highlightAll:l,highlightCSSClass:r}=this,s=tP(e,t,i,l,r);return this.filtersData=s,this.showFilterResults=s.some(({elements:e})=>e.some(({resultsElement:e})=>e)),this.hideEmptyFilters=s.some(({elements:e})=>e.some(({hideEmpty:e})=>e)),this.highlightResults=s.some(({highlight:e})=>e),s}},t3=({values:e,textNode:t,filterData:{originalFilterKeys:i,mode:l,tagFormat:r,tagCategory:s}},a)=>{let n=s||i.join(", "),o;"range"===l?o=`[${e.map(e=>e||"--").join(", ")}]`:[o]=e;let u;u="true"===o?n:"category"===(r||a)?`${n}: ${o}`:o,t.textContent=u},t0=e=>!!eJ("tagRemove",{operator:"prefixed",scope:e}),t4=class{constructor(e,t,i,l){this.template=e,this.filtersInstance=t,this.listInstance=i,this.globalTagsFormat=l,this.tagsData=[],this.hasRemoveTrigger=!1,this.wrapper=e.parentElement||C.alert("The tags have no parent wrapper.","error"),this.destroy=this.init()}init(){let{template:e,wrapper:t}=this;e.remove(),this.hasRemoveTrigger=t0(e);let i=A(t,"click",e=>this.handleClick(e));return()=>i()}handleClick(e){let{target:t}=e;if(!$(t))return;let{hasRemoveTrigger:i,tagsData:l,listInstance:r}=this,s=t.closest(eG("element","tagTemplate",{instanceIndex:r.getInstanceIndex(e7.element.key)}));if(!s)return;let a=t.closest(eG("element","tagRemove",{operator:"prefixed"}));if(i&&!a)return;let n=l.find(({element:e})=>e===s);n&&this.removeTag(n,!0)}async addTag(e,t){let{wrapper:i,template:l,tagsData:r,globalTagsFormat:s,listInstance:{listAnimation:a}}=this,n=M(l),o=eJ("tagText",{operator:"prefixed",scope:n})||n,u={element:n,values:t,textNode:o,filterData:e};if(t3(u,s),r.push(u),a){let{animateIn:c,options:h}=a;await c(n,{target:i,...h})}else n.style.opacity="1",i.appendChild(n)}async updateTag(e,t){let{globalTagsFormat:i}=this;e.values=t,t3(e,i)}async removeTag(e,t){let{element:i,values:l,filterData:{filterKeys:r}}=e,{tagsData:s,filtersInstance:a,listInstance:{listAnimation:n}}=this;this.tagsData=s.filter(t=>t!==e),await Promise.all([Promise.all(l.map(async e=>{if(t)return a.resetFilters(r,e)})),(async()=>{if(n){let{animateOut:e,options:t}=n;await e(i,{remove:!0,...t})}else i.remove()})()]),jQuery("section.section.projects-page.location-page .product_cms-w1.w-dyn-list .hotels-list .hotels-item.filterItemVisiable").removeClass("filterItemVisiable"),jQuery("label.read-more-trigger").show()}async syncTags(){let{tagsData:e,filtersInstance:{filtersData:t}}=this;await Promise.all(t.map(t=>{let{values:i,mode:l}=t,r=[...i],s=e.filter(e=>e.filterData===t);if(1===s.length&&(1===r.length||"range"===l&&r.length)){let[a]=s;this.updateTag(a,r);return}let n=[...r].filter(e=>!s.some(({values:t})=>t.includes(e))),o=s.filter(({values:e})=>e.every(e=>!r.includes(e)));return Promise.all([(async()=>"range"===l&&n.length?this.addTag(t,n):Promise.all(n.map(e=>this.addTag(t,[e]))))(),Promise.all(o.map(e=>this.removeTag(e)))])}))}},{element:{key:t7},duration:{key:tG},easing:{key:tJ},showQuery:{key:tU,values:tX},allowSubmit:{key:tY,values:tZ},tagFormat:{key:t1},highlight:{key:t2,values:t5},highlightCSS:{key:t6},activeCSS:{key:ie},debouncing:{key:it}}=e7,ii=(e,t)=>{let i=e.getInstanceIndex(t7),l=eJ("filters",{instanceIndex:i});if(!l)return;let r=l.closest(`.${R.formBlock}`);if(!r)return;let s=eJ("empty",{instanceIndex:i});s&&e.addEmptyElement(s);let a=eJ("initial",{instanceIndex:i});if(a&&(e.initialElement=a),!e.scrollAnchor){let n=eJ("scrollAnchor",{instanceIndex:i});n&&(e.scrollAnchor=n)}if(!e.itemsCount){let o=eJ("itemsCount",{instanceIndex:i});o&&e.addItemsCount(o)}let u=eJ("resultsCount",{instanceIndex:i}),c=e.getAttribute(tU)===tX.true,h=e.getAttribute(tY)===tZ.true,f=e.getAttribute(t2)===t5.true,d=e.getAttribute(t6)||eZ,p=e.getAttribute(ie)||e1,g=parseFloat(e.getAttribute(it)||e2),m=new tz(r,e,{resultsElement:u,showQueryParams:c,allowSubmit:h,highlightAll:f,highlightCSSClass:d,activeCSSClass:p,debouncing:g});return t.addListAnimation(e,{durationKey:tG,easingKey:tJ}),m},il=async(e,t)=>{let i=e.getInstanceIndex(t7),l=eJ("tagTemplate",{instanceIndex:i});if(!l)return;let r=e.getAttribute(t1),s=E(r,eY)?r:void 0,a=new t4(l,t,e,s);return await t.addTagsInstance(a),a},ir=async(e,t)=>{let i=ii(e,t);if(!i)return;tn(i,e);let l=await il(e,i);return{filtersInstance:i,cleanup(){i.destroy(),null==l||l.destroy()}}};eo({async init(){let e=await Z();if(!e)return[];await k(m,b);let t=e.createCMSListInstances([eG("element","list",{operator:"prefixed"})]),i=(await Promise.all(t.map(t=>ir(t,e)))).filter(D);return z(v,i.map(({filtersInstance:e})=>e),()=>{var e;for(let l of t)null==(e=l.destroy)||e.call(l);for(let{cleanup:r}of i)r()})},version:ep,attributeKey:v}),X()})();